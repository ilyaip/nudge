# AchievementUnlockModal Component

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –∫–æ–Ω—Ñ–µ—Ç—Ç–∏/sparkle —ç—Ñ—Ñ–µ–∫—Ç–æ–º.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚ú® –ê–Ω–∏–º–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü (–∫–æ–Ω—Ñ–µ—Ç—Ç–∏/–∑–≤–µ–∑–¥–æ—á–∫–∏)
- üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
- üìä –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏—è
- üé® –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω –≤ —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã—Ö —Ç–æ–Ω–∞—Ö
- üîÑ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- üí´ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `app.vue` –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ composable `useAchievementModal`:

```vue
<script setup>
import { useAchievementModal } from '~/composables/useAchievementModal'

const { showAchievement, showAchievements } = useAchievementModal()

// –ü–æ–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
const achievement = {
  id: 1,
  code: 'FIRST_CONTACT',
  name: '–ü–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç',
  description: '–î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Ç–∞–∫—Ç',
  icon: 'üë§',
  xpReward: 10
}
showAchievement(achievement)

// –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏)
const achievements = [achievement1, achievement2, achievement3]
showAchievements(achievements)
</script>
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `useReminders` composable. –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –µ—Å–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:

```typescript
// –í composables/useReminders.ts
const response = await $fetch(`/api/reminders/${reminderId}/complete`, {
  method: 'POST'
})

// –ï—Å–ª–∏ –µ—Å—Ç—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è
if (response.unlockedAchievements && response.unlockedAchievements.length > 0) {
  showAchievements(response.unlockedAchievements)
}
```

## Props

| Prop | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|--------------|----------|
| `achievement` | `Achievement \| null` | `null` | –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `autoCloseDuration` | `number` | `3000` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏—è –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö |

## Events

| Event | Payload | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|---------|----------|
| `close` | - | –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ |

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Achievement

```typescript
interface Achievement {
  id: number
  code: string
  name: string
  description: string
  icon: string
  xpReward: number
}
```

## Composable useAchievementModal

### –ú–µ—Ç–æ–¥—ã

- `showAchievement(achievement: Achievement)` - –ü–æ–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- `showAchievements(achievements: Achievement[])` - –ü–æ–∫–∞–∑–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–æ—á–µ—Ä–µ–¥—å)
- `handleClose()` - –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏)
- `clearQueue()` - –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

### –°–æ—Å—Ç–æ—è–Ω–∏–µ

- `currentAchievement` - –¢–µ–∫—É—â–µ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
- `isShowing` - –§–ª–∞–≥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–¥–∞–ª–∫–∏
- `queueLength` - –û—á–µ—Ä–µ–¥—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## –ê–Ω–∏–º–∞—Ü–∏–∏

### –ß–∞—Å—Ç–∏—Ü—ã (Confetti)

- 20 —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü —Å —ç–º–æ–¥–∑–∏: ‚ú®, ‚≠ê, üéâ, üéä, üí´, üåü, ‚ö°, üí•
- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞ –≤–≤–µ—Ä—Ö —Å –≤—Ä–∞—â–µ–Ω–∏–µ–º
- –°–ª—É—á–∞–π–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

- Fade in/out –¥–ª—è backdrop
- Scale + translate –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- Bounce –∞–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∏–∫–æ–Ω–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä

- –ü–ª–∞–≤–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞ –≤—Ä–µ–º—è –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏—è
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π)

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É –∏–∑ `uno.config.ts`:

- `primary` (#6B3CE9) - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
- `primaryLight` (#8B5CF6) - –°–≤–µ—Ç–ª–æ-—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
- –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã: `gradient-purple-bright`

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- **7.4**: Celebration –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- **10.4**: –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

## –ü—Ä–∏–º–µ—Ä—ã

### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```vue
<script setup>
import { ref } from 'vue'
import { useAchievementModal } from '~/composables/useAchievementModal'

const { showAchievement } = useAchievementModal()

const unlockAchievement = () => {
  showAchievement({
    id: 1,
    code: 'WEEK_WARRIOR',
    name: '–í–æ–∏–Ω –Ω–µ–¥–µ–ª–∏',
    description: '–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —Å—Ç—Ä–∏–∫–∞ –≤ 7 –¥–Ω–µ–π',
    icon: '‚ö°',
    xpReward: 100
  })
}
</script>

<template>
  <button @click="unlockAchievement">
    –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
  </button>
</template>
```

### –û—á–µ—Ä–µ–¥—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

```typescript
// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ,
// –æ–Ω–∏ –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã –ø–æ –æ—á–µ—Ä–µ–¥–∏ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 300–º—Å –º–µ–∂–¥—É –Ω–∏–º–∏
const multipleAchievements = [
  { id: 1, name: '–ü–µ—Ä–≤–æ–µ', icon: 'üéØ', ... },
  { id: 2, name: '–í—Ç–æ—Ä–æ–µ', icon: '‚≠ê', ... },
  { id: 3, name: '–¢—Ä–µ—Ç—å–µ', icon: 'üèÜ', ... }
]

showAchievements(multipleAchievements)
// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–µ—Ä–≤–æ–µ ‚Üí –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ 3—Å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤—Ç–æ—Ä–æ–µ ‚Üí –∏ —Ç.–¥.
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `tests/unit/composables/useAchievementModal.test.ts`

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
npm test tests/unit/composables/useAchievementModal.test.ts
```
