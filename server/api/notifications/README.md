# API Уведомлений

## Endpoints

### POST /api/notifications/test

Отправка тестового уведомления через Telegram Bot.

**Запрос:**
```bash
curl -X POST http://localhost:3000/api/notifications/test \
  -H "Content-Type: application/json" \
  -d '{
    "telegramId": "123456789",
    "message": "Тестовое сообщение"
  }'
```

**Параметры:**
- `telegramId` (обязательный) - Telegram ID пользователя
- `message` (опциональный) - Текст сообщения (по умолчанию - стандартное тестовое сообщение)

**Ответ (успех):**
```json
{
  "success": true,
  "message": "Уведомление успешно отправлено",
  "retryCount": 0
}
```

**Ответ (ошибка):**
```json
{
  "success": false,
  "error": "Не удалось отправить уведомление",
  "retryCount": 3
}
```

## Логика повторных попыток

При сбое отправки система автоматически повторяет попытку:
- Максимум 3 попытки
- Экспоненциальная задержка: 1с, 2с, 4с
- Логирование каждой попытки

## Формат сообщений

Уведомления форматируются с использованием HTML разметки Telegram:
- `<b>` - жирный текст
- Эмодзи для визуального оформления
- Структурированный список контактов

## Требования

Для работы необходимо:
1. Установить `TELEGRAM_BOT_TOKEN` в `.env`
2. Бот должен иметь права на отправку сообщений
3. Пользователь должен начать диалог с ботом (отправить `/start`)
